{
    "cveId": "CVE-2022-48920",
    "version": "1.0.0",
    "timestamp": "2024-12-06T11:32:07.789868+00:00",
    "description": "In the Linux kernel, the following vulnerability has been resolved btrfs get rid of warning on transaction commit when using flushoncommit When using the flushoncommit mount option, during almost every transaction commit we trigger a warning from __writeback_inodes_sb_nr() $ cat fs/fs-writeback.c (...) static void __writeback_inodes_sb_nr(struct super_block *sb, ... { (...) WARN_ON(!rwsem_is_locked(&sb->s_umount)) (...) } (...) The trace produced in dmesg looks like the following [947.473890] WARNING CPU 5 PID 930 at fs/fs-writeback.c2610 __writeback_inodes_sb_nr+0x7e/0xb3 [947.481623] Modules linked in nfsd nls_cp437 cifs asn1_decoder cifs_arc4 fscache cifs_md4 ipmi_ssif [947.489571] CPU 5 PID 930 Comm btrfs-transacti Not tainted 95.16.3-srb-asrock-00001-g36437ad63879 #186 [947.497969] RIP 0010__writeback_inodes_sb_nr+0x7e/0xb3 [947.502097] Code 24 10 4c 89 44 24 18 c6 (...) [947.519760] RSP 0018ffffc90000777e10 EFLAGS 00010246 [947.523818] RAX 0000000000000000 RBX 0000000000963300 RCX 0000000000000000 [947.529765] RDX 0000000000000000 RSI 000000000000fa51 RDI ffffc90000777e50 [947.535740] RBP ffff888101628a90 R08 ffff888100955800 R09 ffff888100956000 [947.541701] R10 0000000000000002 R11 0000000000000001 R12 ffff888100963488 [947.547645] R13 ffff888100963000 R14 ffff888112fb7200 R15 ffff888100963460 [947.553621] FS 0000000000000000(0000) GSffff88841fd40000(0000) knlGS0000"
}
