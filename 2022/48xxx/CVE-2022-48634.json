{
    "cveId": "CVE-2022-48634",
    "version": "1.0.0",
    "timestamp": "2024-12-06T11:32:07.789868+00:00",
    "description": "In the Linux kernel, the following vulnerability has been resolved drm/gma500 Fix BUG sleeping function called from invalid context errors gma_crtc_page_flip() was holding the event_lock spinlock while calling crtc_funcs->mode_set_base() which takes ww_mutex. The only reason to hold event_lock is to clear gma_crtc->page_flip_event on mode_set_base() errors. Instead unlock it after setting gma_crtc->page_flip_event and on errors re-take the lock and clear gma_crtc->page_flip_event it it is still set. This fixes the following WARN/stacktrace [ 512.122953] BUG sleeping function called from invalid context at kernel/locking/mutex.c870 [ 512.123004] in_atomic() 1, irqs_disabled() 1, non_block 0, pid 1253, name gnome-shell [ 512.123031] preempt_count 1, expected 0 [ 512.123048] RCU nest depth 0, expected 0 [ 512.123066] INFO lockdep is turned off. [ 512.123080] irq event stamp 0 [ 512.123094] hardirqs last enabled at (0) [] 0x0 [ 512.123134] hardirqs last disabled at (0) [] copy_process+0x9fc/0x1de0 [ 512.123176] softirqs last enabled at (0) [] copy_process+0x9fc/0x1de0 [ 512.123207] softirqs last disabled at (0) [] 0x0 [ 512.123233] Preemption disabled at [ 512.123241] [] 0x0 [ 512.123275] CPU 3 PID 1253 Comm gnome-shell Tainted G W 5.19.0+ #1 [ 512.123304] Hardware name Packard Bell dot s/SJE01_CT, BIOS V1.10 07/23/2013 [ 512.1",
    "keyphrases": {
        "rootcause": "BUG sleeping function called from invalid context",
        "weakness": "",
        "impact": "",
        "vector": "",
        "attacker": "",
        "product": "Linux kernel",
        "version": "",
        "component": "drm/gma500"
    }
}
