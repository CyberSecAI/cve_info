{
    "cveId": "CVE-2022-48901",
    "version": "1.0.0",
    "timestamp": "2024-12-06T11:32:07.789868+00:00",
    "description": "In the Linux kernel, the following vulnerability has been resolved btrfs do not start relocation until in progress drops are done We hit a bug with a recovering relocation on mount for one of our file systems in production. I reproduced this locally by injecting errors into snapshot delete with balance running at the same time. This presented as an error while looking up an extent item WARNING CPU 5 PID 1501 at fs/btrfs/extent-tree.c866 lookup_inline_extent_backref+0x647/0x680 CPU 5 PID 1501 Comm btrfs-balance Not tainted 5.16.0-rc8+ #8 RIP 0010lookup_inline_extent_backref+0x647/0x680 RSP 0018ffffae0a023ab960 EFLAGS 00010202 RAX 0000000000000001 RBX 0000000000000000 RCX 0000000000000000 RDX 0000000000000000 RSI 000000000000000c RDI 0000000000000000 RBP ffff943fd2a39b60 R08 0000000000000000 R09 0000000000000001 R10 0001434088152de0 R11 0000000000000000 R12 0000000001d05000 R13 ffff943fd2a39b60 R14 ffff943fdb96f2a0 R15 ffff9442fc923000 FS 0000000000000000(0000) GSffff944e9eb40000(0000) knlGS0000000000000000 CS 0010 DS 0000 ES 0000 CR0 0000000080050033 CR2 00007f1157b1fca8 CR3 000000010f092000 CR4 0000000000350ee0 Call Trace insert_inline_extent_backref+0x46/0xd0 __btrfs_inc_extent_ref.isra.0+0x5f/0x200 ? btrfs_merge_delayed_refs+0x164/0x190 __btrfs_run_delayed_refs+0x561/0xfa0 ? btrfs_search_slot+0x7b4/0xb30 ? btrfs_update_root+0x1a9/0x2c0 btrfs_run_delayed_refs+0x73/0x1f0"
}
