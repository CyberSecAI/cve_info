{
    "cveId": "CVE-2024-49934",
    "version": "1.0.0",
    "timestamp": "2024-12-19T22:22:49.126128+00:00",
    "description": "In the Linux kernel, the following vulnerability has been resolved fs/inode Prevent dump_mapping() accessing invalid dentry.d_name.name Its observed that a crash occurs during hot-remove a memory device, in which user is accessing the hugetlb. See calltrace as following ------------[ cut here ]------------ WARNING CPU 1 PID 14045 at arch/x86/mm/fault.c1278 do_user_addr_fault+0x2a0/0x790 Modules linked in kmem device_dax cxl_mem cxl_pmem cxl_port cxl_pci dax_hmem dax_pmem nd_pmem cxl_acpi nd_btt cxl_core crc32c_intel nvme virtiofs fuse nvme_core nfit libnvdimm dm_multipath scsi_dh_rdac scsi_dh_emc s mirror dm_region_hash dm_log dm_mod CPU 1 PID 14045 Comm daxctl Not tainted 6.10.0-rc2-lizhijian+ #492 Hardware name QEMU Standard PC (Q35 + ICH9, 2009), BIOS rel-1.16.3-0-ga6ed6b701f0a-prebuilt.qemu.org 04/01/2014 RIP 0010do_user_addr_fault+0x2a0/0x790 Code 48 8b 00 a8 04 0f 84 b5 fe ff ff e9 1c ff ff ff 4c 89 e9 4c 89 e2 be 01 00 00 00 bf 02 00 00 00 e8 b5 ef 24 00 e9 42 fe ff ff 0b 48 83 c4 08 4c 89 ea 48 89 ee 4c 89 e7 5b 5d 41 5c 41 5d 41 RSP 0000ffffc90000a575f0 EFLAGS 00010046 RAX ffff88800c303600 RBX 0000000000000000 RCX 0000000000000000 RDX 0000000000001000 RSI ffffffff82504162 RDI ffffffff824b2c36 RBP 0000000000000000 R08 0000000000000000 R09 0000000000000000 R10 0000000000000000 R11 0000000000000000 R12 ffffc90000a57658 R13 0000000000001000 R14 ffff88800bc2e040 R15 0000000000000000 FS 00007f51cb57d880(0000) GSffff88807fd00000(0000) knlGS0000000000000000 CS 0010 DS 0000 ES 0000 CR0 0000000080050033 CR2 0000000000001000 CR3 00000000072e2004 CR4 00000000001706f0 DR0 0000000000000000 DR1 0000000000000000 DR2 0000000000000000 DR3 0000000000000000 DR6 00000000fffe0ff0 DR7 0000000000000400 Call Trace ? __warn+0x8d/0x190 ? do_user_addr_fault+0x2a0/0x790 ? report_bug+0x1c3/0x1d0 ? handle_bug+0x3c/0x70 ? exc_invalid_op+0x14/0x70 ? asm_exc_invalid_op+0x16/0x20 ? do_user_addr_fault+0x2a0/0x790 ? exc_page_fault+0x31/0x200 exc_page_fault+0x68/0x200 BUG unable to handle page fault for address 0000000000001000 #PF supervisor read access in kernel mode #PF error_code(0x0000) - not-present page PGD 800000000ad92067 P4D 800000000ad92067 PUD 7677067 PMD 0 Oops Oops 0000",
    "keyphrases": {
        "rootcause": "Accessing an invalid dentry's d_name.name during memory device hot-remove.",
        "weakness": "The code attempts to access dentry's name after it has been invalidated during memory device hot-remove.",
        "impact": "Kernel crash due to a page fault caused by accessing invalid memory.",
        "vector": "Hot-removing a memory device while user-space is accessing it through hugetlb.",
        "attacker": "User-space process accessing hugetlb.",
        "product": "Linux Kernel",
        "version": "6.10.0-rc2",
        "component": "fs/inode"
    }
}
