{
    "cveId": "CVE-2024-47694",
    "version": "1.0.0",
    "timestamp": "2024-12-06T11:32:07.789868+00:00",
    "description": "In the Linux kernel, the following vulnerability has been resolved IB/mlx5 Fix UMR pd cleanup on error flow of driver init The cited commit moves the pd allocation from function mlx5r_umr_resource_cleanup() to a new function mlx5r_umr_cleanup(). So the fix in commit [1] is broken. In error flow, will hit panic [2]. Fix it by checking pd pointer to avoid panic if it is NULL [1] RDMA/mlx5 Fix UMR cleanup on error flow of driver init [2] [ 347.567063] infiniband mlx5_0 Couldnt register device with driver model [ 347.591382] BUG kernel NULL pointer dereference, address 0000000000000020 [ 347.593438] #PF supervisor read access in kernel mode [ 347.595176] #PF error_code(0x0000) - not-present page [ 347.596962] PGD 0 P4D 0 [ 347.601361] RIP 0010ib_dealloc_pd_user+0x12/0xc0 [ib_core] [ 347.604171] RSP 0018ffff888106293b10 EFLAGS 00010282 [ 347.604834] RAX 0000000000000000 RBX 000000000000000e RCX 0000000000000000 [ 347.605672] RDX ffff888106293ad0 RSI 0000000000000000 RDI 0000000000000000 [ 347.606529] RBP 0000000000000000 R08 ffff888106293ae0 R09 ffff888106293ae0 [ 347.607379] R10 0000000000000a06 R11 0000000000000000 R12 0000000000000000 [ 347.608224] R13 ffffffffa0704dc0 R14 0000000000000001 R15 0000000000000001 [ 347.609067] FS 00007fdc720cd9c0(0000) GSffff88852c880000(0000) knlGS0000000000000000 [ 347.610094] CS 0010 DS 0000 ES 0000 CR0 0000000080050033 [ 347.610727] CR2 0000000000000020 CR3 000000010301",
    "keyphrases": {
        "rootcause": "improper UMR cleanup on error flow",
        "weakness": "",
        "impact": "panic",
        "vector": "",
        "attacker": "",
        "product": "Linux kernel",
        "version": "",
        "component": ""
    }
}
