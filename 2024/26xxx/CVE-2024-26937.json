{
    "cveId": "CVE-2024-26937",
    "version": "1.0.0",
    "timestamp": "2024-12-06T11:32:07.789868+00:00",
    "description": "In the Linux kernel, the following vulnerability has been resolved drm/i915/gt Reset queue_priority_hint on parking Originally, with strict in order execution, we could complete execution only when the queue was empty. Preempt-to-busy allows replacement of an active request that may complete before the preemption is processed by HW. If that happens, the request is retired from the queue, but the queue_priority_hint remains set, preventing direct submission until after the next CS interrupt is processed. This preempt-to-busy race can be triggered by the heartbeat, which will also act as the power-management barrier and upon completion allow us to idle the HW. We may process the completion of the heartbeat, and begin parking the engine before the CS event that restores the queue_priority_hint, causing us to fail the assertion that it is MIN. [ 166.210729] __engine_park283 GEM_BUG_ON(engine->sched_engine->queue_priority_hint != (-((int)(~0U >> 1)) - 1)) [ 166.210781] Dumping ftrace buffer [ 166.210795] --------------------------------- ... [ 167.302811] drm_fdin-1097 2..s1. 165741070us trace_ports 00000002.0 rcs0 promote { ccid20 12172 prio 0 } [ 167.302861] drm_fdin-1097 2d.s2. 165741072us execlists_submission_tasklet 00000002.0 rcs0 preempting last=12172, prio=0, hint=2147483646 [ 167.302928] drm_fdin-1097 2d.s2. 165741072us __i915_request_unsubmit 00000002.0 rcs0 fence 12172, current 0 [ 167.302992] drm_"
}
