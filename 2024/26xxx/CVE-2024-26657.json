{
  "cveId": "CVE-2024-26657",
  "version": "1.0.0",
  "timestamp": "2024-12-06T11:32:07.789868+00:00",
  "description": "In the Linux kernel, the following vulnerability has been resolved drm/sched fix null-ptr-deref in init entity The bug can be triggered by sending an amdgpu_cs_wait_ioctl to the AMDGPU DRM driver on any ASICs with valid context. The bug was reported by Joonkyo Jung . For example the following code static void Syzkaller2(int fd) { union drm_amdgpu_ctx arg1 union drm_amdgpu_wait_cs arg2 arg1.in.op = AMDGPU_CTX_OP_ALLOC_CTX ret = drmIoctl(fd, 0x140106442 /* amdgpu_ctx_ioctl */, &arg1) arg2.in.handle = 0x0 arg2.in.timeout = 0x2000000000000 arg2.in.ip_type = AMD_IP_VPE /* 0x9 */ arg2->in.ip_instance = 0x0 arg2.in.ring = 0x0 arg2.in.ctx_id = arg1.out.alloc.ctx_id drmIoctl(fd, 0xc0206449 /* AMDGPU_WAIT_CS * /, &arg2) } The ioctl AMDGPU_WAIT_CS without previously submitted job could be assumed that the error should be returned, but the following commit 1decbf6bb0b4dc56c9da6c5e57b994ebfc2be3aa modified the logic and allowed to have sched_rq equal to NULL. As a result when there is no job the ioctl AMDGPU_WAIT_CS returns success. The change fixes null-ptr-deref in init entity and the stack below demonstrates the error condition [ +0.000007] BUG kernel NULL pointer dereference, address 0000000000000028 [ +0.007086] #PF supervisor read access in kernel mode [ +0.005234] #PF error_code(0x0000) - not-present page [ +0.005232] PGD 0 P4D 0 [ +0.002501] Oops 0000 [#1] PREEMPT SMP KASAN NOPTI [ +0.005034] CPU 10 PID 9229 C",
  "keyphrases": {
    "rootcause": "",
    "weakness": "null-ptr-deref",
    "impact": [
      "Oops",
      "read access"
    ],
    "vector": "amdgpu_cs_wait_ioctl",
    "attacker": "",
    "product": "Linux kernel",
    "version": "",
    "component": "drm/sched"
  },
  "mitreTechnicalImpacts": []
}