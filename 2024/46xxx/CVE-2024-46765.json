{
  "cveId": "CVE-2024-46765",
  "version": "1.0.0",
  "timestamp": "2024-12-06T11:32:07.789868+00:00",
  "description": "In the Linux kernel, the following vulnerability has been resolved ice protect XDP configuration with a mutex The main threat to data consistency in ice_xdp() is a possible asynchronous PF reset. It can be triggered by a user or by TX timeout handler. XDP setup and PF reset code access the same resources in the following sections * ice_vsi_close() in ice_prepare_for_reset() - already rtnl-locked * ice_vsi_rebuild() for the PF VSI - not protected * ice_vsi_open() - already rtnl-locked With an unfortunate timing, such accesses can result in a crash such as the one below [ +1.999878] ice 0000b100.0 Registered XDP mem model MEM_TYPE_XSK_BUFF_POOL on Rx ring 14 [ +2.002992] ice 0000b100.0 Registered XDP mem model MEM_TYPE_XSK_BUFF_POOL on Rx ring 18 [Mar15 1817] ice 0000b100.0 ens801f0np0 NETDEV WATCHDOG CPU 38 transmit queue 14 timed out 80692736 ms [ +0.000093] ice 0000b100.0 ens801f0np0 tx_timeout VSI_num 6, Q 14, NTC 0x0, HW_HEAD 0x0, NTU 0x0, INT 0x4000001 [ +0.000012] ice 0000b100.0 ens801f0np0 tx_timeout recovery level 1, txqueue 14 [ +0.394718] ice 0000b100.0 PTP reset successful [ +0.006184] BUG kernel NULL pointer dereference, address 0000000000000098 [ +0.000045] #PF supervisor read access in kernel mode [ +0.000023] #PF error_code(0x0000) - not-present page [ +0.000023] PGD 0 P4D 0 [ +0.000018] Oops 0000 [#1] PREEMPT SMP NOPTI [ +0.000023] CPU 38 PID 7540 Comm kworker/381 Not tainted 6.8.0-rc7 #1 [ +0.000031] Hardware name",
  "keyphrases": {
    "rootcause": "race condition",
    "weakness": "",
    "impact": [
      "Oops",
      "crash",
      "read access"
    ],
    "vector": "",
    "attacker": "",
    "product": "Linux kernel",
    "version": "",
    "component": "ice_xdp()"
  },
  "mitreTechnicalImpacts": []
}