{
    "cveId": "CVE-2024-40943",
    "version": "1.0.0",
    "timestamp": "2024-12-06T11:32:07.789868+00:00",
    "description": "In the Linux kernel, the following vulnerability has been resolved ocfs2 fix races between hole punching and AIO+DIO After commit ocfs2 return real error code in ocfs2_dio_wr_get_block, fstests/generic/300 become from always failed to sometimes failed ======================================================================== [ 473.293420 ] run fstests generic/300 [ 475.296983 ] JBD2 Ignoring recovery information on journal [ 475.302473 ] ocfs2 Mounting device (253,1) on (node local, slot 0) with ordered data mode. [ 494.290998 ] OCFS2 ERROR (device dm-1) ocfs2_change_extent_flag Owner 5668 has an extent at cpos 78723 which can no longer be found [ 494.291609 ] On-disk corruption discovered. Please run fsck.ocfs2 once the filesystem is unmounted. [ 494.292018 ] OCFS2 File system is now read-only. [ 494.292224 ] (kworker/1911,2628,19)ocfs2_mark_extent_written5272 ERROR status = -30 [ 494.292602 ] (kworker/1911,2628,19)ocfs2_dio_end_io_write2374 ERROR status = -3 fio io_u error on file /mnt/scratch/racer Read-only file system write offset=460849152, buflen=131072 ========================================================================= In __blockdev_direct_IO, ocfs2_dio_wr_get_block is called to add unwritten extents to a list. extents are also inserted into extent tree in ocfs2_write_begin_nolock. Then another thread call fallocate to puch a hole at one of the unwritten extent. The extent at cpos was removed by ocfs2_remove_extent(). At end"
}
