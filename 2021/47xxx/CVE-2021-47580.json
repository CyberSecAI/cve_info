{
    "cveId": "CVE-2021-47580",
    "version": "1.0.0",
    "timestamp": "2024-12-06T11:32:07.789868+00:00",
    "description": "In the Linux kernel, the following vulnerability has been resolved scsi scsi_debug Fix type in min_t to avoid stack OOB Change min_t() to use type u32 instead of type int to avoid stack out of bounds. With min_t() type int the values get sign extended and the larger value gets used causing stack out of bounds. BUG KASAN stack-out-of-bounds in memcpy include/linux/fortify-string.h191 [inline] BUG KASAN stack-out-of-bounds in sg_copy_buffer+0x1de/0x240 lib/scatterlist.c976 Read of size 127 at addr ffff888072607128 by task syz-executor.7/18707 CPU 1 PID 18707 Comm syz-executor.7 Not tainted 5.15.0-syzk #1 Hardware name Red Hat KVM, BIOS 1.13.0-2 Call Trace __dump_stack lib/dump_stack.c88 [inline] dump_stack_lvl+0x89/0xb5 lib/dump_stack.c106 print_address_description.constprop.9+0x28/0x160 mm/kasan/report.c256 __kasan_report mm/kasan/report.c442 [inline] kasan_report.cold.14+0x7d/0x117 mm/kasan/report.c459 check_region_inline mm/kasan/generic.c183 [inline] kasan_check_range+0x1a3/0x210 mm/kasan/generic.c189 memcpy+0x23/0x60 mm/kasan/shadow.c65 memcpy include/linux/fortify-string.h191 [inline] sg_copy_buffer+0x1de/0x240 lib/scatterlist.c976 sg_copy_from_buffer+0x33/0x40 lib/scatterlist.c1000 fill_from_dev_buffer.part.34+0x82/0x130 drivers/scsi/scsi_debug.c1162 fill_from_dev_buffer drivers/scsi/scsi_debug.c1888 [inline] resp_readcap16+0x365/0x3b0 drivers/scsi/scsi_debug.c1887 schedule_resp+0x4d8/0x1a70 drivers/scsi/scsi_debug.c5"
}
